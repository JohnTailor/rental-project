<div class="dialog">
  <div class="dialog-left">
    <img [src]="data.image" [alt]="data.name" width="250" />
    <div class="left-content">
      <app-identicon [identity]="data.ownerAddress"></app-identicon>
      <div class="left-content-title">{{ data.name }} #{{ data.tokenId }}</div>
    </div>
    <div class="left-content-description">
      <p>{{ data.description }}</p>
    </div>
  </div>
  <div class="dialog-right">
    <h1 mat-dialog-title>Rent this NFT</h1>
    <p>
      Specify the maximum number of likes you are willing to pay and the
      duration of your renting.
    </p>
    <form [formGroup]="rentingForm" (ngSubmit)="onSubmit()">
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            [min]="minDate"
            [max]="maxDate"
            formControlName="rentDate"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Max like count</mat-label>
          <input type="number" matInput formControlName="maxLikeCount" />
        </mat-form-field>
      </div>
      <div class="approval" *ngIf="!tokenApproved">
        <p>Please give an approval to our Rental Contract in order to spend</p>
        <div class="maxPrice">{{ maxRentPrice }} RNT</div>
        <span>for this rental order.</span>
        <div>
          <button
            mat-button
            (click)="onApprove()"
            [disabled]="maxRentPrice === 0"
          >
            Allow
          </button>
        </div>
      </div>
      <div class="approval" *ngIf="tokenApproved">
        <p>The Rental Contract is approved.</p>
      </div>
      <div mat-dialog-actions>
        <button mat-button (click)="onCancle()">Cancle</button>
        <button mat-button [disabled]="rentingForm.invalid || !tokenApproved">
          Rent
        </button>
      </div>
    </form>
  </div>
</div>
